[gd_scene load_steps=16 format=3 uid="uid://dlogfuoolbbgt"]

[ext_resource type="Theme" uid="uid://dttxtjxuax841" path="res://common/contents/theme/theme_default.tres" id="1_tdxxv"]
[ext_resource type="Script" uid="uid://dacue8d4cvrem" path="res://common/screen/VolumeOptionDialog.cs" id="2_18wg2"]
[ext_resource type="Script" uid="uid://c2n2sbxnj7xyb" path="res://common/gui/CommandHSlider.cs" id="3_g13w5"]
[ext_resource type="PackedScene" uid="uid://dpnl48f76kgdj" path="res://common/command/command_container.tscn" id="4_3ts1x"]
[ext_resource type="PackedScene" uid="uid://cpr5v3p6w81h3" path="res://common/command/play_se_command.tscn" id="5_1whwo"]
[ext_resource type="Script" uid="uid://c4dysl28gldho" path="res://common/gui/CommandButton.cs" id="7_ku5a7"]
[ext_resource type="PackedScene" uid="uid://bvxgt01dp4as0" path="res://common/command/save_game_options_command.tscn" id="8_6ciug"]
[ext_resource type="PackedScene" uid="uid://c6qlmwp7c1hu5" path="res://common/command/close_dialog_command.tscn" id="9_x2o4e"]
[ext_resource type="PackedScene" uid="uid://cxuhm7osw7v00" path="res://common/command/load_game_options_command.tscn" id="10_12k4t"]
[ext_resource type="PackedScene" uid="uid://brisrw4lbj3fy" path="res://common/command/set_game_options_command.tscn" id="11_0e2uc"]
[ext_resource type="PackedScene" uid="uid://doubmd3r22t1r" path="res://common/command/update_dialog_screen_command.tscn" id="12_xh88y"]
[ext_resource type="PackedScene" uid="uid://db5heldrmq227" path="res://common/command/reset_default_game_options_command.tscn" id="13_4ty8t"]
[ext_resource type="PackedScene" uid="uid://c1rbo6273ktjc" path="res://common/command/open_file_manager_command.tscn" id="13_wbecy"]
[ext_resource type="PackedScene" uid="uid://bre2fb1drg3wq" path="res://common/command/reference_command_container.tscn" id="15_deamu"]
[ext_resource type="PackedScene" uid="uid://r4oifw5npwps" path="res://common/trigger/key_releaseed_trigger.tscn" id="16_yg6hs"]

[node name="VolumeOptionDialog" type="Control"]
light_mask = 2
layout_mode = 3
anchors_preset = 0
theme = ExtResource("1_tdxxv")
script = ExtResource("2_18wg2")

[node name="Background" type="ColorRect" parent="."]
light_mask = 2
layout_mode = 0
offset_left = 50.0
offset_top = 55.0
offset_right = 590.0
offset_bottom = 431.0
color = Color(0.2, 0.2, 0.2, 1)

[node name="Border" type="ReferenceRect" parent="."]
light_mask = 2
layout_mode = 0
offset_left = 48.0
offset_top = 55.0
offset_right = 592.0
offset_bottom = 432.0
border_color = Color(0.933333, 0.933333, 0.933333, 1)
border_width = 4.0
editor_only = false

[node name="Title" type="Label" parent="."]
light_mask = 2
layout_mode = 0
offset_left = 280.0
offset_top = 72.0
offset_right = 360.0
offset_bottom = 102.0
text = "音量設定"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Bgm" type="Label" parent="."]
light_mask = 2
layout_mode = 0
offset_left = 100.0
offset_top = 120.0
offset_right = 224.0
offset_bottom = 150.0
text = "BGM 音量"
vertical_alignment = 1

[node name="BgmValue" type="Label" parent="."]
light_mask = 2
layout_mode = 0
offset_left = 472.0
offset_top = 120.0
offset_right = 536.0
offset_bottom = 152.0
text = "0%
"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Se" type="Label" parent="."]
light_mask = 2
layout_mode = 0
offset_left = 100.0
offset_top = 160.0
offset_right = 224.0
offset_bottom = 190.0
text = "効果音 音量"
vertical_alignment = 1

[node name="SeValue" type="Label" parent="."]
light_mask = 2
layout_mode = 0
offset_left = 472.0
offset_top = 160.0
offset_right = 536.0
offset_bottom = 192.0
text = "0%"
horizontal_alignment = 1
vertical_alignment = 1

[node name="Control" type="Control" parent="."]
light_mask = 2
anchors_preset = 0

[node name="BgmSlider" type="HSlider" parent="Control"]
light_mask = 2
layout_mode = 0
offset_left = 232.0
offset_top = 120.0
offset_right = 464.0
offset_bottom = 150.0
step = 5.0
script = ExtResource("3_g13w5")

[node name="Focus" parent="Control/BgmSlider" instance=ExtResource("4_3ts1x")]

[node name="PlaySeCommand" parent="Control/BgmSlider/Focus" instance=ExtResource("5_1whwo")]
SeName = "menu_move"
ProcessAlways = true

[node name="SeSlider" type="HSlider" parent="Control"]
light_mask = 2
layout_mode = 0
offset_left = 232.0
offset_top = 160.0
offset_right = 464.0
offset_bottom = 190.0
step = 5.0
script = ExtResource("3_g13w5")

[node name="Focus" parent="Control/SeSlider" instance=ExtResource("4_3ts1x")]

[node name="PlaySeCommand" parent="Control/SeSlider/Focus" instance=ExtResource("5_1whwo")]
SeName = "menu_move"
ProcessAlways = true

[node name="Back" type="Button" parent="Control"]
light_mask = 2
layout_mode = 0
offset_left = 240.0
offset_top = 224.0
offset_right = 400.0
offset_bottom = 256.0
text = "保存して戻る"
script = ExtResource("7_ku5a7")

[node name="Exec" parent="Control/Back" instance=ExtResource("4_3ts1x")]

[node name="PlaySeCommand" parent="Control/Back/Exec" instance=ExtResource("5_1whwo")]
SeName = "menu_select"
ProcessAlways = true

[node name="SaveGameOptionsCommand" parent="Control/Back/Exec" instance=ExtResource("8_6ciug")]

[node name="CloseDialogCommand" parent="Control/Back/Exec" instance=ExtResource("9_x2o4e")]

[node name="Focus" parent="Control/Back" instance=ExtResource("4_3ts1x")]

[node name="PlaySeCommand" parent="Control/Back/Focus" instance=ExtResource("5_1whwo")]
SeName = "menu_move"
ProcessAlways = true

[node name="Undo" type="Button" parent="Control"]
light_mask = 2
layout_mode = 0
offset_left = 184.0
offset_top = 272.0
offset_right = 456.0
offset_bottom = 304.0
focus_neighbor_right = NodePath("../Reset")
text = "前回保存した音量にリセット"
script = ExtResource("7_ku5a7")

[node name="Exec" parent="Control/Undo" instance=ExtResource("4_3ts1x")]

[node name="PlaySeCommand" parent="Control/Undo/Exec" instance=ExtResource("5_1whwo")]
SeName = "menu_select"
ProcessAlways = true

[node name="LoadGameOptionsCommand" parent="Control/Undo/Exec" instance=ExtResource("10_12k4t")]

[node name="SetGameOptionsCommand" parent="Control/Undo/Exec" instance=ExtResource("11_0e2uc")]

[node name="UpdateDialogScreenCommand" parent="Control/Undo/Exec" instance=ExtResource("12_xh88y")]

[node name="Focus" parent="Control/Undo" instance=ExtResource("4_3ts1x")]

[node name="PlaySeCommand" parent="Control/Undo/Focus" instance=ExtResource("5_1whwo")]
SeName = "menu_move"
ProcessAlways = true

[node name="Reset" type="Button" parent="Control"]
light_mask = 2
layout_mode = 0
offset_left = 176.0
offset_top = 320.0
offset_right = 464.0
offset_bottom = 352.0
text = "ゲームの初期音量にリセット"
script = ExtResource("7_ku5a7")

[node name="Exec" parent="Control/Reset" instance=ExtResource("4_3ts1x")]

[node name="PlaySeCommand" parent="Control/Reset/Exec" instance=ExtResource("5_1whwo")]
SeName = "menu_select"
ProcessAlways = true

[node name="ResetDefaultGameOptionsCommand" parent="Control/Reset/Exec" instance=ExtResource("13_4ty8t")]

[node name="SetGameOptionsCommand" parent="Control/Reset/Exec" instance=ExtResource("11_0e2uc")]

[node name="UpdateDialogScreenCommand" parent="Control/Reset/Exec" instance=ExtResource("12_xh88y")]

[node name="Focus" parent="Control/Reset" instance=ExtResource("4_3ts1x")]

[node name="PlaySeCommand" parent="Control/Reset/Focus" instance=ExtResource("5_1whwo")]
SeName = "menu_move"
ProcessAlways = true

[node name="OpenFileManager" type="Button" parent="Control"]
light_mask = 2
layout_mode = 0
offset_left = 200.0
offset_top = 368.0
offset_right = 440.0
offset_bottom = 400.0
text = "データフォルダを開く"
script = ExtResource("7_ku5a7")

[node name="Exec" parent="Control/OpenFileManager" instance=ExtResource("4_3ts1x")]

[node name="PlaySeCommand" parent="Control/OpenFileManager/Exec" instance=ExtResource("5_1whwo")]
SeName = "menu_select"
ProcessAlways = true

[node name="OpenFileManagerCommand" parent="Control/OpenFileManager/Exec" instance=ExtResource("13_wbecy")]

[node name="Focus" parent="Control/OpenFileManager" instance=ExtResource("4_3ts1x")]

[node name="PlaySeCommand" parent="Control/OpenFileManager/Focus" instance=ExtResource("5_1whwo")]
SeName = "menu_move"
ProcessAlways = true

[node name="EscapeKey" parent="." instance=ExtResource("16_yg6hs")]
ActionName = "ui_cancel"

[node name="ReferenceCommandContainer" parent="EscapeKey" node_paths=PackedStringArray("Target") instance=ExtResource("15_deamu")]
Target = NodePath("../../Close")

[node name="OptionKey" parent="." instance=ExtResource("16_yg6hs")]
ActionName = "option"

[node name="ReferenceCommandContainer" parent="OptionKey" node_paths=PackedStringArray("Target") instance=ExtResource("15_deamu")]
Target = NodePath("../../Close")

[node name="Close" parent="." instance=ExtResource("4_3ts1x")]

[node name="PlaySeCommand" parent="Close" instance=ExtResource("5_1whwo")]
SeName = "menu_select"
ProcessAlways = true

[node name="LoadGameOptionsCommand" parent="Close" instance=ExtResource("10_12k4t")]

[node name="SetGameOptionsCommand" parent="Close" instance=ExtResource("11_0e2uc")]

[node name="UpdateDialogScreenCommand" parent="Close" instance=ExtResource("12_xh88y")]

[node name="CloseDialogCommand" parent="Close" instance=ExtResource("9_x2o4e")]

[connection signal="value_changed" from="Control/BgmSlider" to="." method="BgmVolumeChanged"]
[connection signal="value_changed" from="Control/SeSlider" to="." method="SeVolumeChanged"]
